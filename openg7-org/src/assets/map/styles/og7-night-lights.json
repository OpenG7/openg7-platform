{
  "version": 8,
  "name": "OpenG7 Night Lights",
  "projection": { "type": "globe" },
  "glyphs": "https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf",
  "sprite": "https://demotiles.maplibre.org/styles/osm-bright/sprite",
  "sources": {
    "openmaptiles": {
      "type": "vector",
      "url": "https://tiles.openfreemap.org/planet"
    }
  },
  "layers": [
    {
      "id": "background",
      "type": "background",
      "paint": {
        "background-color": "#031019"
      }
    },
    {
      "id": "water",
      "type": "fill",
      "source": "openmaptiles",
      "source-layer": "water",
      "paint": {
        "fill-color": "#04141d",
        "fill-opacity": 0.98
      }
    },
    {
      "id": "landcover",
      "type": "fill",
      "source": "openmaptiles",
      "source-layer": "landcover",
      "paint": {
        "fill-color": "#4e7d78",
        "fill-opacity": 0.72
      }
    },
    {
      "id": "landuse",
      "type": "fill",
      "source": "openmaptiles",
      "source-layer": "landuse",
      "paint": {
        "fill-color": "#5f948b",
        "fill-opacity": 0.72
      }
    },
    {
      "id": "water-outline",
      "type": "line",
      "source": "openmaptiles",
      "source-layer": "water",
      "paint": {
        "line-color": "#1c4e5a",
        "line-width": 1.4,
        "line-opacity": 0.75
      }
    },
    {
      "id": "urban-heatmap-residential",
      "type": "heatmap",
      "source": "openmaptiles",
      "source-layer": "landuse",
      "filter": ["in", "class", "residential", "commercial", "industrial"],
      "maxzoom": 15,
      "paint": {
        "heatmap-weight": [
          "match",
          ["get", "class"],
          "residential",
          0.7,
          "commercial",
          0.7,
          "industrial",
          0.7,
          0.7
        ],
        "heatmap-intensity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          0.35,
          3,
          0.6,
          6,
          0.9,
          9,
          1.1
        ],
        "heatmap-color": [
          "interpolate",
          ["linear"],
          ["heatmap-density"],
          0.0,
          "rgba(0, 0, 0, 0)",
          0.15,
          "rgba(255, 200, 120, 0.15)",
          0.35,
          "rgba(255, 190, 100, 0.40)",
          0.6,
          "rgba(255, 180, 80, 0.75)",
          0.85,
          "rgba(255, 220, 170, 0.95)",
          1.0,
          "rgba(255, 250, 220, 1.0)"
        ],
        "heatmap-radius": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          2,
          2,
          6,
          4,
          14,
          6,
          24,
          8,
          32
        ],
        "heatmap-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          0.9,
          3,
          0.9,
          6,
          0.6,
          8,
          0.3,
          10,
          0.0
        ]
      }
    },
    {
      "id": "urban-heatmap-roads",
      "type": "heatmap",
      "source": "openmaptiles",
      "source-layer": "transportation",
      "filter": ["in", "class", "motorway", "trunk", "primary", "secondary"],
      "maxzoom": 15,
      "paint": {
        "heatmap-weight": [
          "match",
          ["get", "class"],
          "motorway",
          1.4,
          "trunk",
          1.2,
          "primary",
          1.0,
          "secondary",
          0.8,
          0.5
        ],
        "heatmap-intensity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          0.4,
          3,
          0.7,
          6,
          1.0,
          9,
          1.1
        ],
        "heatmap-color": [
          "interpolate",
          ["linear"],
          ["heatmap-density"],
          0.0,
          "rgba(0, 0, 0, 0)",
          0.15,
          "rgba(255, 190, 110, 0.15)",
          0.35,
          "rgba(255, 175, 90, 0.40)",
          0.6,
          "rgba(255, 155, 70, 0.75)",
          0.85,
          "rgba(255, 135, 50, 0.95)",
          1.0,
          "rgba(255, 210, 160, 1.0)"
        ],
        "heatmap-radius": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          1,
          2,
          4,
          4,
          10,
          6,
          16,
          8,
          20
        ],
        "heatmap-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          0.9,
          3,
          0.9,
          6,
          0.6,
          8,
          0.3,
          10,
          0.0
        ]
      }
    },
    {
      "id": "urban-heatmap-buildings",
      "type": "heatmap",
      "source": "openmaptiles",
      "source-layer": "building",
      "maxzoom": 15,
      "paint": {
        "heatmap-weight": 0.9,
        "heatmap-intensity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          0.2,
          5,
          0.7,
          9,
          1.4
        ],
        "heatmap-color": [
          "interpolate",
          ["linear"],
          ["heatmap-density"],
          0.0,
          "rgba(0, 0, 0, 0)",
          0.2,
          "rgba(255, 225, 160, 0.25)",
          0.4,
          "rgba(255, 210, 130, 0.5)",
          0.7,
          "rgba(255, 200, 110, 0.8)",
          0.9,
          "rgba(255, 240, 210, 0.95)",
          1.0,
          "rgba(255, 255, 240, 1.0)"
        ],
        "heatmap-radius": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          0.6,
          5,
          4,
          9,
          12
        ],
        "heatmap-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          0,
          0.9,
          3,
          0.9,
          6,
          0.6,
          8,
          0.3,
          10,
          0.0
        ]
      }
    },
    {
      "id": "night-residential-glow-outer",
      "type": "fill",
      "source": "openmaptiles",
      "source-layer": "landuse",
      "filter": ["==", "class", "residential"],
      "minzoom": 9,
      "paint": {
        "fill-color": "#CC8A3A",
        "fill-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.08,
          12,
          0.21,
          15,
          0.25
        ],
        "fill-antialias": true
      }
    },
    {
      "id": "night-residential-glow",
      "type": "fill",
      "source": "openmaptiles",
      "source-layer": "landuse",
      "filter": ["==", "class", "residential"],
      "minzoom": 9,
      "paint": {
        "fill-color": "#FFC766",
        "fill-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.1,
          12,
          0.27,
          15,
          0.32
        ],
        "fill-antialias": true
      }
    },
    {
      "id": "night-residential-core",
      "type": "fill",
      "source": "openmaptiles",
      "source-layer": "landuse",
      "filter": ["==", "class", "residential"],
      "minzoom": 9,
      "paint": {
        "fill-color": "#FFEED6",
        "fill-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.11,
          12,
          0.3,
          15,
          0.36
        ],
        "fill-antialias": true
      }
    },
    {
      "id": "night-motorways-glow-outer",
      "type": "line",
      "source": "openmaptiles",
      "source-layer": "transportation",
      "filter": ["in", "class", "motorway", "trunk"],
      "minzoom": 7,
      "paint": {
        "line-color": "#FF8A33",
        "line-width": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          7,
          4,
          12,
          16,
          16,
          32
        ],
        "line-blur": 4,
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.06,
          12,
          0.16,
          15,
          0.19
        ]
      }
    },
    {
      "id": "night-motorways-glow",
      "type": "line",
      "source": "openmaptiles",
      "source-layer": "transportation",
      "filter": ["in", "class", "motorway", "trunk"],
      "minzoom": 7,
      "paint": {
        "line-color": "#FFC857",
        "line-width": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          7,
          3,
          12,
          12,
          16,
          24
        ],
        "line-blur": 2,
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.14,
          12,
          0.36,
          15,
          0.43
        ]
      }
    },
    {
      "id": "night-motorways-core",
      "type": "line",
      "source": "openmaptiles",
      "source-layer": "transportation",
      "filter": ["in", "class", "motorway", "trunk"],
      "minzoom": 7,
      "paint": {
        "line-color": "#FFF7E0",
        "line-width": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          7,
          1.5,
          12,
          6,
          16,
          12
        ],
        "line-blur": 0.5,
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.23,
          12,
          0.6,
          15,
          0.71
        ]
      }
    },
    {
      "id": "night-roads-glow-outer",
      "type": "line",
      "source": "openmaptiles",
      "source-layer": "transportation",
      "filter": ["in", "class", "primary", "secondary", "tertiary"],
      "minzoom": 8,
      "paint": {
        "line-color": "#FFB04D",
        "line-width": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          8,
          3,
          12,
          8,
          16,
          20
        ],
        "line-blur": 3,
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.06,
          12,
          0.16,
          15,
          0.19
        ]
      }
    },
    {
      "id": "night-roads-glow",
      "type": "line",
      "source": "openmaptiles",
      "source-layer": "transportation",
      "filter": ["in", "class", "primary", "secondary", "tertiary"],
      "minzoom": 8,
      "paint": {
        "line-color": "#FFD873",
        "line-width": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          8,
          2,
          12,
          5,
          16,
          14
        ],
        "line-blur": 1.5,
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.14,
          12,
          0.36,
          15,
          0.43
        ]
      }
    },
    {
      "id": "night-roads-core",
      "type": "line",
      "source": "openmaptiles",
      "source-layer": "transportation",
      "filter": ["in", "class", "primary", "secondary", "tertiary"],
      "minzoom": 8,
      "paint": {
        "line-color": "#FFF7EB",
        "line-width": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          8,
          1,
          12,
          2.5,
          16,
          8
        ],
        "line-blur": 0.3,
        "line-opacity": [
          "interpolate",
          ["linear"],
          ["zoom"],
          7,
          0.0,
          9,
          0.23,
          12,
          0.6,
          15,
          0.71
        ]
      }
    }
  ]
}
