@if (company(); as current) {
  <article class="space-y-4 rounded-lg border border-slate-200 bg-white p-6 shadow-sm" data-og7="company-detail-card">
    <header class="space-y-2">
      <div class="flex items-start justify-between gap-4">
        <h2 class="text-xl font-semibold text-slate-900">{{ current.name }}</h2>
        <span class="inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700">
          {{ statusLabel(current.status) }}
        </span>
      </div>
      @if (current.description) {
        <p class="text-sm leading-relaxed text-slate-600">{{ current.description }}</p>
      }
    </header>

    <dl class="grid grid-cols-1 gap-3 text-sm text-slate-600 md:grid-cols-2" data-og7="company-detail-metadata">
      <div>
        <dt class="font-medium text-slate-500">Website</dt>
        <dd>
          @if (current.website) {
            <a
              class="text-primary-600 underline decoration-primary-200 hover:text-primary-700"
              [href]="normalizeWebsite(current.website)"
              target="_blank"
              rel="noopener"
            >
              {{ current.website }}
            </a>
          } @else {
            <span class="text-slate-400">Not provided</span>
          }
        </dd>
      </div>

      <div>
        <dt class="font-medium text-slate-500">Sector</dt>
        <dd>{{ current.sector?.name ?? 'Not specified' }}</dd>
      </div>

      <div>
        <dt class="font-medium text-slate-500">Province</dt>
        <dd>{{ current.province?.name ?? 'Not specified' }}</dd>
      </div>

      <div>
        <dt class="font-medium text-slate-500">Country</dt>
        <dd>
          @if (current.country) {
            {{ ('countries.' + current.country) | translate }}
          } @else {
            Not specified
          }
        </dd>
      </div>

      <div>
        <dt class="font-medium text-slate-500">Primary logo</dt>
        <dd>{{ current.logoUrl ?? 'Not provided' }}</dd>
      </div>

      <div>
        <dt class="font-medium text-slate-500">Secondary logo</dt>
        <dd>{{ current.secondaryLogoUrl ?? 'Not provided' }}</dd>
      </div>
    </dl>

    @if (current.capacities.length) {
      <section class="space-y-3" data-og7="company-detail-capacities">
        <h3 class="text-sm font-semibold uppercase tracking-wide text-slate-500">Capacities</h3>
        <ul class="grid grid-cols-1 gap-3 md:grid-cols-2">
          @for (capacity of current.capacities; track trackCapacity($index, capacity)) {
            <li class="rounded-md border border-slate-100 bg-slate-50 p-3">
              <p class="text-sm font-medium text-slate-700">{{ capacity.label }}</p>
              <p class="text-xs text-slate-500">
                @if (capacity.value !== null) {
                  <span>{{ capacity.value }}</span>
                } @else {
                  <span>Unknown</span>
                }
                @if (capacity.unit) {
                  <span class="ml-1 text-slate-400">{{ capacity.unit }}</span>
                }
              </p>
            </li>
          }
        </ul>
      </section>
    }
  </article>
} @else {
  <p class="rounded-lg border border-dashed border-slate-200 p-6 text-center text-sm text-slate-500" data-og7="company-detail-empty">
    Select a company to preview its profile.
  </p>
}
