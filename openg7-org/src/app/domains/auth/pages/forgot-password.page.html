<section
  class="min-h-[calc(100vh-5rem)] bg-slate-900/5 lg:grid lg:grid-cols-[2fr_1fr] lg:items-stretch"
  data-og7="auth-forgot-password-shell"
>
  <div class="relative hidden overflow-hidden bg-gradient-to-b from-indigo-600 via-indigo-500 to-indigo-700 lg:flex">
    <div class="pointer-events-none absolute inset-0 mix-blend-screen">
      <div class="absolute -left-20 top-10 h-72 w-72 rounded-full bg-white/20 blur-3xl"></div>
      <div class="absolute bottom-0 right-[-10%] h-80 w-80 rounded-full bg-indigo-200/20 blur-3xl"></div>
    </div>
    <div class="relative z-10 flex flex-col justify-center gap-8 p-12 text-indigo-50">
      <span class="inline-flex items-center rounded-full bg-white/10 px-4 py-1 text-xs font-semibold uppercase tracking-widest">
        {{ 'auth.forgotPassword.hero.tagline' | translate }}
      </span>
      <h1 class="max-w-xl text-4xl font-semibold leading-tight text-white">
        {{ 'auth.forgotPassword.title' | translate }}
      </h1>
      <p class="max-w-lg text-base text-indigo-100">
        {{ 'auth.forgotPassword.hero.body' | translate }}
      </p>
    </div>
  </div>

  <div class="flex items-center justify-center px-6 py-12 lg:bg-transparent">
    <div class="w-full max-w-md space-y-8 rounded-3xl bg-white/95 p-8 shadow-xl ring-1 ring-slate-200 backdrop-blur">
      <header class="flex flex-col gap-2" data-og7="auth-forgot-password-header">
        <h2 class="text-2xl font-semibold text-slate-900">
          {{ 'auth.forgotPassword.title' | translate }}
        </h2>
        <p class="text-sm text-slate-600">
          {{ 'auth.forgotPassword.subtitle' | translate }}
        </p>
      </header>

      @if (success()) {
        <p
          class="rounded-xl border border-emerald-200 bg-emerald-50/80 p-4 text-sm text-emerald-700"
          data-og7="auth-forgot-password-success"
          role="status"
          aria-live="polite"
        >
          {{ 'auth.forgotPassword.success' | translate }}
        </p>
      }

      <form
        [formGroup]="form"
        data-og7="auth-forgot-password"
        (ngSubmit)="onSubmit()"
        novalidate
        class="flex flex-col gap-5"
        [attr.aria-busy]="loading()"
      >
        <div class="flex flex-col gap-2">
          <label class="sr-only" for="auth-forgot-password-email">{{ 'auth.email' | translate }}</label>
          <input
            #emailInput
            id="auth-forgot-password-email"
            type="email"
            formControlName="email"
            placeholder="{{ 'auth.email' | translate }}"
            autocomplete="email"
            [attr.aria-invalid]="form.controls.email.invalid && form.controls.email.touched"
            [attr.aria-describedby]="
              form.controls.email.touched && form.controls.email.invalid ? 'auth-forgot-password-email-error' : null
            "
            class="w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-base text-slate-900 shadow-sm transition focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:placeholder:text-slate-500"
          />
          @if (form.controls.email.touched && form.controls.email.invalid) {
            <p class="text-sm text-red-600" data-og7="auth-forgot-password-email-error" id="auth-forgot-password-email-error" role="alert">
              @if (form.controls.email.hasError('required')) {
                {{ 'auth.errors.emailRequired' | translate }}
              } @else {
                {{ 'auth.errors.emailInvalid' | translate }}
              }
            </p>
          }
        </div>

        @if (apiError(); as error) {
          <p
            class="rounded-lg border border-red-200 bg-red-50/80 p-3 text-sm text-red-700"
            data-og7="auth-forgot-password-api-error"
            role="alert"
            aria-live="assertive"
          >
            {{ error | translate }}
          </p>
        }

        <button
          type="submit"
          [disabled]="loading()"
          data-og7="auth-forgot-password-submit"
          class="btn-primary w-full justify-center rounded-xl py-3 text-base font-semibold"
        >
          @if (loading()) {
            {{ 'auth.forgotPassword.loading' | translate }}
          } @else {
            {{ 'auth.forgotPassword.submit' | translate }}
          }
        </button>
      </form>

      <p class="text-sm text-slate-600">
        <a routerLink="/login" class="font-medium text-indigo-600 hover:text-indigo-500 hover:underline">
          {{ 'auth.forgotPassword.backToLogin' | translate }}
        </a>
      </p>
    </div>
  </div>
</section>
