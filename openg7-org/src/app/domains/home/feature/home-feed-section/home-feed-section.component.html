<div
  class="rounded-2xl border border-white/10 bg-gradient-to-b from-slate-950/90 via-slate-950/75 to-slate-900/70 px-6 py-4 text-white shadow-[0_20px_70px_rgba(2,6,23,0.55)] backdrop-blur-sm"
>
  <div class="flex flex-col gap-3">
    <div class="flex flex-wrap items-center gap-3">
      <div
        class="flex w-fit items-center gap-1 rounded-xl border border-white/15 bg-slate-900/70 p-1.5 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.04)]"
        role="tablist"
      >
        <button
          *ngFor="let scope of feedScopes(); trackBy: trackFeedScope"
          type="button"
          role="tab"
          class="rounded-lg px-3.5 py-1.5 text-sm font-semibold transition"
          [attr.aria-selected]="activeFeedScope() === scope.id"
          [ngClass]="
            activeFeedScope() === scope.id
              ? 'bg-white/10 text-white shadow-[inset_0_0_0_1px_rgba(255,255,255,0.08)]'
              : 'text-slate-300 hover:bg-white/5'
          "
          (click)="scopeChanged.emit(scope.id)"
        >
          {{ scope.label | translate }}
        </button>
      </div>
    </div>

    <div class="relative w-full max-w-3xl" data-og7="search-box">
      <input
        type="search"
        class="w-full rounded-xl border border-white/15 bg-slate-900/70 py-2.5 pl-4 pr-10 text-sm text-slate-100 placeholder:text-slate-500 shadow-[inset_0_0_12px_rgba(15,23,42,0.65)] transition focus:border-cyan-300/70 focus:outline-none focus:ring-1 focus:ring-cyan-300/30"
        [value]="searchDraft()"
        [attr.aria-label]="'home.feed.searchAria' | translate"
        [attr.placeholder]="'home.feed.searchPlaceholder' | translate"
        (input)="onSearchInput($any($event.target).value ?? '')"
      />
      <span class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400">
        <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
          <path
            fill="currentColor"
            d="M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16c1.6 0 3.08-.59 4.22-1.57l.27.28v.79l5 5L20.5 19l-5-5zm-6 0A4.5 4.5 0 1 1 14 9.5 4.5 4.5 0 0 1 9.5 14z"
          />
        </svg>
      </span>
    </div>

    <div class="flex flex-wrap gap-2">
      <button
        *ngFor="let filter of feedFilters(); trackBy: trackFeedFilter"
        type="button"
        class="rounded-lg border border-white/12 px-3.5 py-1.5 text-[11px] font-semibold tracking-[0.04em] transition"
        [attr.aria-pressed]="activeFeedFilter() === filter.id"
        [ngClass]="
          activeFeedFilter() === filter.id
            ? 'bg-amber-200/15 text-amber-100 ring-1 ring-amber-200/30'
            : 'bg-slate-900/60 text-slate-300 hover:bg-white/10'
        "
        (click)="filterChanged.emit(filter.id)"
      >
        {{ filter.label | translate }}
      </button>
    </div>
  </div>
</div>
