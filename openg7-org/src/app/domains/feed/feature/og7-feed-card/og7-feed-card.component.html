<article class="feed-card">
  <header class="feed-card__header">
    <div class="feed-card__meta">
      <span class="feed-card__type">{{ ('feed.type.' + item().type) | translate }}</span>
      <span class="feed-card__timestamp">{{ item().createdAt | jsonDateAgo }}</span>
    </div>
    <div class="feed-card__badges">
      <span *ngIf="item().urgency" class="feed-card__badge" [class]="urgencyBadgeClass()">
        {{ ('feed.urgency.' + item().urgency) | translate }}
      </span>
      <span *ngIf="item().credibility" class="feed-card__badge">
        {{ ('feed.credibility.' + item().credibility) | translate }}
      </span>
      <span *ngIf="item().status === 'pending' || item().status === 'failed'" class="feed-card__badge" [class]="statusBadgeClass()">
        {{ ('feed.status.' + item().status) | translate }}
      </span>
    </div>
  </header>

  <div class="feed-card__content">
    <h3 class="feed-card__title">{{ item().title }}</h3>
    <p class="feed-card__summary">{{ item().summary }}</p>
  </div>

  <div class="feed-card__chips">
    <span *ngIf="fromLabel()" class="feed-card__chip">
      {{ 'feed.from' | translate }}: {{ fromLabel() }}
    </span>
    <span *ngIf="toLabel()" class="feed-card__chip">
      {{ 'feed.to' | translate }}: {{ toLabel() }}
    </span>
    <span *ngIf="sectorLabel()" class="feed-card__chip">
      {{ sectorLabel() }}
    </span>
    <span *ngIf="item().mode && item().mode !== 'BOTH'" class="feed-card__chip">
      {{ ('feed.mode.' + (item().mode | lowercase)) | translate }}
    </span>
    <span *ngIf="item().quantity" class="feed-card__chip">
      {{ item().quantity?.value }} {{ item().quantity?.unit }}
    </span>
  </div>

  <footer class="feed-card__footer">
    <div class="feed-card__source">
      {{ 'feed.source' | translate }}: {{ item().source?.label || ('feed.sourceUnknown' | translate) }}
    </div>
    <div class="feed-card__actions">
      <button type="button" class="feed-card__action" (click)="handleOpen()">
        {{ 'feed.cta.open' | translate }}
      </button>
      <button type="button" class="feed-card__action" (click)="handleSave()">
        {{ 'feed.cta.save' | translate }}
      </button>
      <button type="button" class="feed-card__action feed-card__action--primary" (click)="handleContact()">
        {{ 'feed.cta.contact' | translate }}
      </button>
    </div>
  </footer>
</article>
