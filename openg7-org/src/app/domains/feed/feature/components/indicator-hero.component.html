<header class="indicator-hero" [class.indicator-hero--compact]="compact()" data-og7="indicator-detail-header">
  <div class="indicator-hero__breadcrumb" aria-label="Breadcrumb">
    <a routerLink="/feed">{{ 'feed.title' | translate }}</a>
    <span>/</span>
    <a routerLink="/feed" [queryParams]="{ type: 'INDICATOR' }">{{ 'feed.indicator.detail.breadcrumbIndicators' | translate }}</a>
    <span>/</span>
    <strong>{{ 'feed.indicator.detail.breadcrumbCurrent' | translate }}</strong>
  </div>

  <div class="indicator-hero__main">
    <div class="indicator-hero__titles">
      <h1>{{ title() }}</h1>
      <p>{{ subtitle() }}</p>
    </div>

    <div class="indicator-hero__actions">
      <button
        type="button"
        class="indicator-hero__action"
        data-og7="action"
        data-og7-id="indicator-subscribe"
        (click)="toggleSubscribe.emit()"
      >
        {{ subscribed() ? ('feed.indicator.detail.actions.subscribed' | translate) : ('feed.indicator.detail.actions.subscribe' | translate) }}
      </button>
      <button
        type="button"
        class="indicator-hero__action"
        data-og7="action"
        data-og7-id="indicator-share"
        (click)="share.emit()"
      >
        {{ 'feed.indicator.detail.actions.share' | translate }}
      </button>
      <button
        type="button"
        class="indicator-hero__action indicator-hero__action--primary"
        data-og7="action"
        data-og7-id="indicator-create-alert"
        (click)="createAlert.emit()"
      >
        {{ 'feed.indicator.detail.actions.createAlert' | translate }}
      </button>
    </div>
  </div>

  <div class="indicator-hero__chips">
    <span class="chip chip--metric" data-og7="indicator-metric-chip">{{ deltaPctLabel() }}</span>
    <span class="chip chip--metric">{{ deltaAbsLabel() }}</span>

    <div class="chip-group" data-og7="indicator-timeframe">
      <button
        *ngFor="let option of timeframeOptions"
        type="button"
        [class.is-active]="timeframe() === option"
        [attr.aria-pressed]="timeframe() === option"
        [attr.data-og7-id]="'indicator-timeframe-' + option"
        (click)="timeframeChange.emit(option)"
      >
        {{ option }}
      </button>
    </div>

    <div class="chip-group" data-og7="indicator-granularity">
      <button
        *ngFor="let option of granularityOptions"
        type="button"
        [class.is-active]="granularity() === option"
        [attr.aria-pressed]="granularity() === option"
        [attr.data-og7-id]="'indicator-granularity-' + option"
        (click)="granularityChange.emit(option)"
      >
        {{ ('feed.indicator.detail.granularity.' + option) | translate }}
      </button>
    </div>
  </div>

  <div class="indicator-hero__meta">
    <span [attr.data-og7-state]="connectionState()">
      {{ ('feed.indicator.detail.connection.' + connectionState()) | translate }}
    </span>
    <span>
      {{ 'feed.indicator.detail.lastUpdate' | translate:{ value: lastUpdatedLabel() } }}
    </span>
    <span>
      {{ 'feed.indicator.detail.chips.windowHours' | translate:{ value: windowHours() } }}
    </span>
    <span>
      {{ granularityLabel() }}
    </span>
  </div>
</header>
