@use '@angular/material' as mat;

@include mat.core();

/* ====== Thèmes (M3) ====== */
$light-theme: mat.define-theme((
  color: ( theme-type: light, primary: mat.$blue-palette, tertiary: mat.$azure-palette ),
  typography: ( plain-family: Roboto, brand-family: Roboto, regular-weight: 400, medium-weight: 500, bold-weight: 700 ),
  density: ( scale: 0 )
));

$dark-theme: mat.define-theme((
  color: ( theme-type: dark,  primary: mat.$blue-palette, tertiary: mat.$azure-palette ),
  typography: ( plain-family: Roboto, brand-family: Roboto, regular-weight: 400, medium-weight: 500, bold-weight: 700 ),
  density: ( scale: 0 )
));

/* ---------- Clair (compile TOUT ici une seule fois) ---------- */
:root {
  /* 1) Variables unifiées (CSS vars des tokens) */
  --md-sys-color-primary: var(--og7-color-primary);
  --md-sys-color-on-primary: var(--og7-color-on-primary);
  --md-sys-color-surface: var(--og7-color-surface);
  --md-sys-color-on-surface: var(--og7-color-title);
  --md-sys-color-tertiary: var(--og7-color-tertiary);
  --md-sys-color-on-tertiary: var(--og7-color-on-tertiary);
  --md-sys-color-success: var(--og7-color-success);
  --md-sys-color-warning: var(--og7-color-warning);
  --md-sys-color-error: var(--og7-color-error);

  /* 2) Styles Material */
  @include mat.all-component-themes($light-theme);

  /* 3) Typo HTML */
  @include mat.typography-hierarchy($light-theme);
}

/* ---------- Sombre (.dark) : COULEURS SEULEMENT ---------- */
.dark {
  /* Vars CSS côté Tailwind/UX */
  --md-sys-color-primary: var(--og7-color-primary);
  --md-sys-color-on-primary: var(--og7-color-on-primary);
  --md-sys-color-surface: var(--og7-color-surface);
  --md-sys-color-on-surface: var(--og7-color-title);
  --md-sys-color-tertiary: var(--og7-color-tertiary);
  --md-sys-color-on-tertiary: var(--og7-color-on-tertiary);
  --md-sys-color-success: var(--og7-color-success);
  --md-sys-color-warning: var(--og7-color-warning);
  --md-sys-color-error: var(--og7-color-error);

  /* Injecter uniquement les couleurs pour éviter la duplication */
  @include mat.all-component-colors($dark-theme);

  /* Appelle la hiérarchie typographique ici SEULEMENT si ta typo change en sombre
     (sinon ne pas l’appeler pour éviter du CSS en trop). */
  /* @include mat.typography-hierarchy($dark-theme); */
}

/* Icônes (optionnel) */
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24;
}
